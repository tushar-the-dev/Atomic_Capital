<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/11.0.5/swiper-bundle.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/gsap@3.14.1/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.14.1/dist/ScrollTrigger.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.14.1/dist/SplitText.min.js"></script>



<script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@latest/bundled/lenis.js"></script>
<script type="text/javascript">
    function preventScroll(e){
        e.preventDefault(); e.stopPropagation(); return false;
    }

    // lenis
   const lenis = new Lenis()
   lenis.on('scroll', (e) => {})
   function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
   requestAnimationFrame(raf)
   lenis.stop();
 
  // DOM ready replacement for $(document).ready()
document.addEventListener("DOMContentLoaded", () => {
  lenis.start();
});
  
</script>

   
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", () => {
  gsap.registerPlugin(ScrollTrigger);

  const prefersReduced = window.matchMedia(
    "(prefers-reduced-motion: reduce)"
  ).matches;

  const sections = gsap.utils.toArray("section");

  if (prefersReduced) {
    gsap.set("[data-fade]", { opacity: 1, y: 0 });
    return;
  }

  sections.forEach(section => {
    const items = section.querySelectorAll("[data-fade]");

    // Hide initially (JS-loaded safe)
    gsap.set(items, { opacity: 0, y: 60 });

    ScrollTrigger.batch(items, {
      start: "top 90%",
      once: true,

      onEnter: batch => {
        gsap.to(batch, {
          opacity: 1,
          y: 0,
          duration: 1,
          ease: "power2.out",
          stagger: 0.3,
          overwrite: true
        });
      }
    });
  });

  // ðŸ”‘ THIS is what fixes mid-page refresh
  ScrollTrigger.refresh(true);
});
</script>
